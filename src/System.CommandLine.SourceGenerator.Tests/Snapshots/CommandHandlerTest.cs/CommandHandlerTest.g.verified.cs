//HintName: CommandHandlerTest.g.cs
// <auto-generated/>
using global::System.CommandLine.SourceGenerator.Common;

namespace System.CommandLine.SourceGenerator.Tests
{
    public class CommandHandlerTestOptions
    {
        public ICommandHandler<global::System.CommandLine.SourceGenerator.Tests.CommandHandlerTest> Handler { get; set; }

        public SubOptions SubOptions { get; set; }
    }

    public static class CommandHandlerTestFactory
    {
        public static global::System.CommandLine.RootCommand Create()
        {
            return Create(null);
        }

        public static global::System.CommandLine.RootCommand Create(CommandHandlerTestOptions options)
        {
            var symbol = new global::System.CommandLine.Option<global::System.Boolean>("--global", null);
            var symbol1 = new global::System.CommandLine.Option<global::System.String>("--string", null);
            var symbol2 = new global::System.CommandLine.Option<global::System.String[]>("--string-array", null);
            var symbol3 = new global::System.CommandLine.Option<global::System.Int32>("--int", "Description: IntProperty")
            {
                Arity = global::System.CommandLine.ArgumentArity.ZeroOrOne,
                AllowMultipleArgumentsPerToken = true,
                ArgumentHelpName = "ArgumentHelpName: IntProperty",
                Description = "Description2: IntProperty",
                IsHidden = true,
                IsRequired = true,
                Name = "--int2"
            };
            symbol3.AddAlias("--int32");
            symbol3.AddAlias("-i");
            var symbol4 = new global::System.CommandLine.Option<global::System.Int32?>("--nullable-int", "Description: NullableIntProperty");
            var symbol5 = new global::System.CommandLine.Argument<global::System.Double>("Argument", null)
            {
                Arity = new global::System.CommandLine.ArgumentArity(2, 4)
            };
            ICommandHandler<global::System.CommandLine.SourceGenerator.Tests.CommandHandlerTest> handler = null;
            if (options != null)
                handler = options.Handler;
            if (handler == null)
                handler = new global::System.CommandLine.SourceGenerator.Tests.CommandHandlerTest_CommandHandler();
            global::System.CommandLine.Invocation.ICommandHandler handlerAdapter = null;
            if (handler != null)
                handlerAdapter = new CommandHandlerTestCommandHandlerAdapter(handler, symbol, symbol1, symbol2, symbol3, symbol4, symbol5);
            var cmd = new global::System.CommandLine.RootCommand("")
            {
                Handler = handlerAdapter
            };
            cmd.AddGlobalOption(symbol);
            cmd.AddOption(symbol1);
            cmd.AddOption(symbol2);
            cmd.AddOption(symbol3);
            cmd.AddOption(symbol4);
            cmd.AddArgument(symbol5);
            if (options != null && options.SubOptions != null)
            {
                cmd.AddCommand(SubFactory.Create(options.SubOptions));
            }
            else
            {
                cmd.AddCommand(SubFactory.Create());
            }
            return cmd;
        }

        private sealed class CommandHandlerTestCommandHandlerAdapter : global::System.CommandLine.Invocation.ICommandHandler
        {
            private readonly ICommandHandler<global::System.CommandLine.SourceGenerator.Tests.CommandHandlerTest> _commandHandler;
            private readonly global::System.CommandLine.Binding.IValueDescriptor<global::System.Boolean> _symbolGlobalProperty;
            private readonly global::System.CommandLine.Binding.IValueDescriptor<global::System.String> _symbolStringProperty;
            private readonly global::System.CommandLine.Binding.IValueDescriptor<global::System.String[]> _symbolStringArrayProperty;
            private readonly global::System.CommandLine.Binding.IValueDescriptor<global::System.Int32> _symbolIntProperty;
            private readonly global::System.CommandLine.Binding.IValueDescriptor<global::System.Int32?> _symbolNullableIntProperty;
            private readonly global::System.CommandLine.Binding.IValueDescriptor<global::System.Double> _symbolDoubleProperty;

            public CommandHandlerTestCommandHandlerAdapter(
                ICommandHandler<global::System.CommandLine.SourceGenerator.Tests.CommandHandlerTest> commandHandler,
                global::System.CommandLine.Binding.IValueDescriptor<global::System.Boolean> symbolGlobalProperty,
                global::System.CommandLine.Binding.IValueDescriptor<global::System.String> symbolStringProperty,
                global::System.CommandLine.Binding.IValueDescriptor<global::System.String[]> symbolStringArrayProperty,
                global::System.CommandLine.Binding.IValueDescriptor<global::System.Int32> symbolIntProperty,
                global::System.CommandLine.Binding.IValueDescriptor<global::System.Int32?> symbolNullableIntProperty,
                global::System.CommandLine.Binding.IValueDescriptor<global::System.Double> symbolDoubleProperty)
            {
                _commandHandler = commandHandler;
                _symbolGlobalProperty = symbolGlobalProperty;
                _symbolStringProperty = symbolStringProperty;
                _symbolStringArrayProperty = symbolStringArrayProperty;
                _symbolIntProperty = symbolIntProperty;
                _symbolNullableIntProperty = symbolNullableIntProperty;
                _symbolDoubleProperty = symbolDoubleProperty;
            }

            public int Invoke(global::System.CommandLine.Invocation.InvocationContext context)
            {
                return InvokeAsync(context).Result;
            }

            public global::System.Threading.Tasks.Task<int> InvokeAsync(global::System.CommandLine.Invocation.InvocationContext context)
            {
                var command = new global::System.CommandLine.SourceGenerator.Tests.CommandHandlerTest()
                {
                    GlobalProperty = ValueDesriptorHelper.GetValueForHandlerParameter<global::System.Boolean>(_symbolGlobalProperty, context),
                    StringProperty = ValueDesriptorHelper.GetValueForHandlerParameter<global::System.String>(_symbolStringProperty, context),
                    StringArrayProperty = ValueDesriptorHelper.GetValueForHandlerParameter<global::System.String[]>(_symbolStringArrayProperty, context),
                    IntProperty = ValueDesriptorHelper.GetValueForHandlerParameter<global::System.Int32>(_symbolIntProperty, context),
                    NullableIntProperty = ValueDesriptorHelper.GetValueForHandlerParameter<global::System.Int32?>(_symbolNullableIntProperty, context),
                    DoubleProperty = ValueDesriptorHelper.GetValueForHandlerParameter<global::System.Double>(_symbolDoubleProperty, context)
                };
                return _commandHandler.InvokeAsync(command);
            }
        }
    }
}
